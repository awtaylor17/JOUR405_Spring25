---
title: "final_project"
output: html_document
---

The tests I could run:
 
The first test I know I could so is a correlation test. In other words, I would want to see how correlated the amount of people who voted for Trump is with unemployment rate. Besides that test, I am not sure what other tests I could run. Part of me thinks that I could do some sort of hypothesis test. However, the t-test that we learned about in class analyzes the averages of the two variables, which I don't think would work with the data I have. I don't think an ANOVA test or chi-squared test would work either because the ANOVA test deals with groups, which we don't have, and the chi-squared test requires expected values, which we also don't have. Do you know of any hypothesis tests that would work?

Additionaly, and slightly unrelated, I was able to access the census data and create the dataframes that I need. I explain my process for doing so, and the roadbumps, at the end of this file. 



Getting started:
```{r}
library("tidyverse")
library(tidycensus)
```


Collecting unemployment rate data:
```{r}
county_urate <- read_csv("https://raw.githubusercontent.com/awtaylor17/JOUR405_Spring25/refs/heads/main/project/JOUR405_URateData_Compiled.csv")
```
To create this file, I copied the unemployment rate data of each county for October of 2024 from the BLS website into a Google Sheet. From there, I downloaded the Google Sheet as a CSV file and uploaded it to Github. I got the "raw" link to the data and used that to import the data into R.

This data set has two columns: one that lists the county and one that lists the unemployment rate for October of 2024. Because this data set is pretty small and straight to the point, I don't think one particular column is more useful than the other. 


Collecting election data:
```{r}
election_data <- read_csv("https://raw.githubusercontent.com/dwillis/jour405/refs/heads/main/data/md_pres_county.csv")
```
Data courtesy of Derek Willis. (Thanks!)

This data set lists how many people in each Maryland county voted for each presidential candidate in the 2024 presidential election. It lists every major candidate, including Chase Oliver, Jill Stein and RFK Jr. However, the only data we will need for this project is the number of people who voted for Kamala Harris and the number of people who voted for Donald Trump. I may also need to use the "total" column if I want to calculate the percentage of each county who voted for a particular candidate. 

Collecting census data:


```{r}
Sys.getenv("CENSUS_API_KEY")

#how I'd find the variables I need. 
lv <- load_variables(2023, "acs5", cache = TRUE)

#(hypothetical) code to retrieve ACS data on race and income from the Census Bureau

#retrieving the amount of people who identified as white alone in each county
md_white_2023 <- get_acs(geography = "county",
              variables = c("B02001_002"),
              state = "MD",
              year = 2023)

md_income_2023 <- get_acs(geography = "county",
              variables = c("B07411_001"),
              state = "MD",
              year = 2023)

```

One important thing to note is that the 2024 ACS data is not available yet, so I will have to use data from the 2023 ACS, which could be less accurate. Do you think I should still include the 2023 data to get a ballpark answer, or should I not include it because it could be inaccurate?

Also, when I called up the general "race" variable, its output was just a number that was not broken down into categories, as I expected. So, I decided to pull the "white alone" variable because that is the race I am ultimately trying to analyze, since my hypothesis is that more white people voted for Trump.  
